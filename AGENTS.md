# Operational guidelines

## Ouroboros Generalist Agents

- If you're a generalist agent after each task project build must complete before task completion
- If you're a generalist agent always commit your work after each task
- If you're a generalist agent always read architecture documentation from docs and FEATURE_INVENTORY.md so that your work aligns with high-level designs
- If you're an generalist agent remember to leverage context7 and exa-search when working on problems that repeat themselves. Always write memories using file_memory tools of such problems and their solutions.
- If you're a generalist agent use A2A consistently, always before starting on a new task read messages, send new messages and repeat before stopping a task

## Ouroboros Orchestrator agents

- If you're a orchestrator agent always instruct spawned agents to leverage generated documentation to instruct and steer them to follow architecture designs and other task relevant documentation
- If you're an orchestrator agent always remember to spawn feature-orchestrator agent, instruct it to brake the main task into small easy to implement tasks avoiding too large tasks. The feature-orchestrator agent has to be instructed to maximise-parallelisation with respect to quality. Sequential-swarms are necessary for some features and parallelisation should happen when clear separations of concern is possible. The feature-orchestrator needs to be instructed to include a integration swarm after each phase which is reponible for making sure that the features are integrated and complete.
- If you're a orchestrator agent always follow the orchestration plan generated by feature-orchestrator in IMPLEMENTATION-PLAN.md.
- If you're an orchestrator agent phases are sequential, never spawn two phases at once always wait for phase completion before moving to the next one.
- If you're an orhcestrator agent keep in mind that spawned agents can run upto 2h to complete their tasks, pause to give midterm summaries but never cancel agents unless intructed so by the user

## Ouroboros Tool Usage

- Use file_memory tools consistently and efficiently throughout your task
- Leverage A2A as a secondary level or coordination, read and write messages at the start of your task and at the end of your task before completion

## General Workflow guidelines

- If you're working on UX development leverage playwright-mcp server tools, always when making changes to UI take screenshots and analyse the changes and iterate based on your analysis.
- If you're working setting up a React project for development always configure bun and oxlint
- If you're working on setting up a Python project for development always configure environment using UV
- If you're working on a TUI application always use Charm ecosystem
- If you're working on a Next.JS application always use Next.JS version 15+
- If you're working on a React application always leverage component libraries newer build components yourself
- If you're working on a web application always mobile first design, minimum 3 browser compatibility
- If you're working on a web application always implement a design system with proper light/dark mode configurations and proper integrations

---

# Knowledge Network React Application — Project Status (as of September 17, 2025)

This section records the current state of the project to guide generalist/orchestrator agents and human collaborators. It complements, not replaces, the operational guidelines above.

## Current Status & Active Swarms

- Project scaffolded with Next.js 15, TypeScript, Tailwind, Storybook, and Bun/Oxlint configured. Evidence: `package.json`, `bun.lock`, `docs/development-guidelines.md`.
- Core design system and a comprehensive base component library are present under `src/components/ui/*`, including theming (`theme-toggle.tsx`) and responsive grid utilities.
- Authentication and security modules implemented (JWT, RBAC, middleware, SSO stubs) under `src/lib/auth/*` and UI flows under `src/components/auth/*`.
- Active swarms: None currently executing. Phase 1 integration/gate review is pending final fixes (see Quality Gates).

## Phase 1 Completion Status (Weeks 1–2)

Following IMPLEMENTATION_PLAN.md Phase 1 breakdown:

- Swarm 1A — Infrastructure & Architecture: Completed
  - Deliverables in place: project scaffolding, dev tooling (Bun, Oxlint), TypeScript, Storybook scripts, architecture docs.
  - Artifacts: `package.json`, `docs/architecture/*`, `docs/development-guidelines.md`.

- Swarm 1B — Design System & Components: Substantially Complete
  - 20+ base UI components, light/dark theme, layout primitives, and Storybook setup present under `src/components/ui/*`.
  - Remaining: Continue hardening stories, accessibility variants, and docs coverage.

- Swarm 1C — Authentication & Security: Implemented with Open Issues
  - JWT services, RBAC, middleware, session/SSO scaffolding, and auth UI flows exist (`src/lib/auth/*`, `src/components/auth/*`).
  - Open items blocking quality gate: TypeScript strictness issues and lint violations (see Quality Gates).

## Generated Documentation (Feature-Orchestrator)

- Feature catalog and phase plans are checked in and serve as the orchestration source of truth:
  - `FEATURE_INVENTORY.md` — Feature breakdown, complexity, swarms, and quality gates.
  - `IMPLEMENTATION_PLAN.md` — Six-phase plan with swarm configurations, guild channels, and success criteria.

## Active Agent Deployments & Roles

- Generalist Agent (Codex CLI): Active in this workspace; maintaining docs and verifying quality gates per guidelines.
- Feature-Orchestrator: Outputs materialized as the two generated docs listed above; no autonomous runtime agent is executing.
- Quality Reviewer / Architecture Reviewer: Role defined in plans; integration review to run after Phase 1 fixes.
- Guild Channels (defined in plan): `guild_frontend_*`, `guild_backend_*`, `guild_ai_*`, `guild_architecture_*` for coordination. These are organizational constructs; activation occurs when corresponding swarms start.

## Next Phases & Planned Swarms

- Phase 2 — Knowledge Management (Weeks 3–4)
  - 2A: Rich Text Editor Core (frontend + performance)
  - 2B: Collaboration Infrastructure (WebSocket + CRDT/OT)
  - 2C: Organization Structure (workspaces/collections/tags)
  - 2D: Search Foundation (ElasticSearch + API)
  - 2E: Template System (engine + templates)

- Subsequent phases per `IMPLEMENTATION_PLAN.md`:
  - Phase 3: Collaboration Features (real-time UI, review system).
  - Phase 4: AI Integration (services, content intelligence, assistant UI).
  - Phase 5: Polish & Performance (PWA, analytics/monitoring).
  - Phase 6: Integration & Deployment (external integrations, production hardening).

## Quality Gates — Achieved vs Remaining

Achieved (Phase 1 baseline):
- Architecture baseline and development standards documented (`docs/architecture/*`, `docs/development-guidelines.md`).
- Component library and theming foundation in place (`src/components/ui/*`).
- Authentication feature set implemented end-to-end in code paths.

Outstanding (blocking Phase 1 gate of ≥8.5/10):
- Type Safety: `bun run type-check` reports multiple strictness errors in auth and stories (e.g., optional prop exactness, missing exports). Representative files:
  - `src/components/auth/auth-layout.tsx`
  - `src/components/auth/login-form.tsx`
  - `src/lib/auth/jwt.service.ts`
  - `src/lib/auth/index.ts`
- Linting: `bun run lint` reports rule violations (e.g., `react/no-unescaped-entities`, console usage, Next image rule) across auth components and UI.
- Tests: Unit/integration coverage targets not yet validated; Storybook stories present, Vitest configured but no pass report recorded in this update.
- Accessibility: WCAG 2.1 AA audit pending; base patterns exist but require verification (focus management, contrast, keyboard flows).
- Performance: Baseline metrics and budgets to be captured after type/lint fixes.

Immediate Remediation Steps (proposed):
- Address TypeScript exact-optional-property errors by aligning prop and domain model types; add missing exports where referenced.
- Resolve lint errors; consider disabling specific rules in stories if appropriate, prefer fixes in product code.
- Add smoke tests for auth flows and render tests for core UI primitives; wire into CI.
- Run preliminary accessibility checks (Storybook a11y addon) and Lighthouse for performance baselines.

## Cross-Project Coordination Status

Per `FEATURE_INVENTORY.md` dependencies:
- Backend API/GraphQL: Client artifacts exist (`src/lib/graphql/*`); service endpoints are mocked/local; versioning and rate limiting to be agreed with backend team.
- Search Infrastructure: Planned for Phase 2D; no ElasticSearch integration present yet.
- AI Services: Deferred to Phase 4; no model endpoints wired.
- Mobile/PWA: Deferred to Phase 5; no offline/sync yet.
- DevOps: Deployment strategy documented (`docs/architecture/deployment-strategy.md`, `CICD_PIPELINE.md`); pipelines to activate during Phase 6.

## Build & Validation Notes

- Engines: Node >= 18.17.0, Bun 1.x recommended (`docs/development-guidelines.md`).
- Scripts: `bun run type-check`, `bun run lint`, `bun run test`, `bun run build` (`package.json`).
- Current run results: Type-check and lint failing (see Quality Gates). Build not attempted pending fixes.

---
