# Knowledge Network - Environment Configuration

# Database Configuration
DATABASE_URL="postgresql://username:password@localhost:5432/knowledge_network"
REDIS_URL="redis://localhost:6379"
ELASTICSEARCH_URL="http://localhost:9200"

# JWT Configuration (REQUIRED)
JWT_SECRET="your-super-secure-jwt-secret-key-minimum-32-characters"
JWT_REFRESH_SECRET="your-super-secure-refresh-secret-key-minimum-32-characters"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# Password Security
BCRYPT_ROUNDS=12

# Session Configuration
SESSION_TTL=86400
MAX_FAILED_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# SSO Configuration (Optional)
ENABLE_SSO=true

# Google OAuth2
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_CALLBACK_URL="http://localhost:3000/auth/google/callback"

# Microsoft OAuth2
MICROSOFT_CLIENT_ID="your-microsoft-client-id"
MICROSOFT_CLIENT_SECRET="your-microsoft-client-secret"
MICROSOFT_CALLBACK_URL="http://localhost:3000/auth/microsoft/callback"

# SAML Configuration
SAML_ENTRY_POINT="https://your-idp.com/saml/login"
SAML_ISSUER="knowledge-network"
SAML_CALLBACK_URL="http://localhost:3000/auth/saml/callback"
SAML_CERT="-----BEGIN CERTIFICATE-----\nYOUR_CERTIFICATE_HERE\n-----END CERTIFICATE-----"

# API Configuration
API_BASE_URL="http://localhost:3000/api"
GRAPHQL_ENDPOINT="http://localhost:3000/api/graphql"
NEXT_PUBLIC_GRAPHQL_ENDPOINT="http://localhost:3000/api/graphql"
NEXT_PUBLIC_GRAPHQL_WS_ENDPOINT="ws://localhost:3000/api/graphql"

# Realtime Collaboration
COLLAB_PORT=3005
COLLAB_WS_PATH="/ws"
NEXT_PUBLIC_COLLAB_WS_URL="ws://localhost:3005/ws"

# Security Configuration
CORS_ORIGINS="http://localhost:3000,https://yourdomain.com"
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
ENABLE_CSRF_PROTECTION=true

# Monitoring & Logging
LOG_LEVEL="info"
ENABLE_AUDIT_LOGGING=true
SENTRY_DSN="your-sentry-dsn"

# Email Configuration (for notifications)
SMTP_HOST="smtp.example.com"
SMTP_PORT=587
SMTP_USER="your-smtp-user"
SMTP_PASS="your-smtp-password"
SMTP_FROM="noreply@yourcompany.com"

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR="./uploads"
ALLOWED_FILE_TYPES="jpg,jpeg,png,gif,pdf,doc,docx,txt,md"

# Feature Flags
FEATURE_SSO_ENABLED=true
FEATURE_API_KEYS_ENABLED=true
FEATURE_RATE_LIMITING_ENABLED=true

# Organization Structure (2C)
# Use Prisma org adapter (falls back to in-memory if Prisma missing)
# ORG_ADAPTER=prisma

# Enable org UI (tags + metadata) in editor demo
# NEXT_PUBLIC_ORG_UI_ENABLED=1

# Development/Testing
NODE_ENV="development"
DEBUG_MODE=true

# AI Integration (Swarm 4A)
OPENAI_API_KEY=""
# Optional overrides
OPENAI_BASE_URL=""
OPENAI_ORG_ID=""
AI_DEFAULT_MODEL="gpt-5-mini"
AI_REQUEST_TIMEOUT_MS=60000
AI_RPM=30
AI_ENGINE="agents" # or "completions" (requires @openai/agents for agents engine)
